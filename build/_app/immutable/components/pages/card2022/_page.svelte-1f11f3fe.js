import{S as ve,i as we,s as ye,J as ke,k,a as B,q as J,l as b,m as T,h as _,c as M,r as V,n as d,p as U,b as Q,G as c,K as L,u as ae,B as ne,I as ie,L as Ie,M as be,N as te,O as ee,P as Ce,Q as Ee,R as $,w as re,x as he,y as ce,f as de,t as fe,z as ue}from"../../../chunks/index-dbc3e342.js";import{N as Te}from"../../../chunks/Nav-6c9e44cd.js";const{window:x}=be;function me(e,l,i){const r=e.slice();return r[27]=l[i],r[28]=l,r[29]=i,r}function pe(e,l,i){const r=e.slice();return r[27]=l[i],r[29]=i,r}function ge(e){let l,i,r;return{c(){l=k("img"),this.h()},l(o){l=b(o,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){te(l.src,i=e[0].imgPath+e[27].img)||d(l,"src",i),d(l,"alt",""),U(l,"z-index",e[0].items.length-e[29]),d(l,"class",r=ee(e[10]>e[29]?"prevImg":"")+" svelte-1jfwhhi")},m(o,u){Q(o,l,u)},p(o,u){u&1&&!te(l.src,i=o[0].imgPath+o[27].img)&&d(l,"src",i),u&1&&U(l,"z-index",o[0].items.length-o[29]),u&1024&&r!==(r=ee(o[10]>o[29]?"prevImg":"")+" svelte-1jfwhhi")&&d(l,"class",r)},d(o){o&&_(l)}}}function _e(e){let l,i,r=e[27].descHtml+"",o,u,h=e[29],g,m;const p=()=>e[21](l,h),w=()=>e[21](null,h);function j(){return e[22](e[29])}function N(){return e[23](e[29])}return{c(){l=k("div"),i=new Ce(!1),o=B(),this.h()},l(v){l=b(v,"DIV",{class:!0,id:!0});var y=T(l);i=Ee(y,!1),o=M(y),y.forEach(_),this.h()},h(){i.a=o,d(l,"class",u=ee(e[29]==e[10]?"currDesc":"")+" svelte-1jfwhhi"),d(l,"id",e[29].toString())},m(v,y){Q(v,l,y),i.m(r,l),c(l,o),p(),g||(m=[L(l,"click",j),L(l,"keypress",N)],g=!0)},p(v,y){e=v,y&1&&r!==(r=e[27].descHtml+"")&&i.p(r),y&1024&&u!==(u=ee(e[29]==e[10]?"currDesc":"")+" svelte-1jfwhhi")&&d(l,"class",u),h!==e[29]&&(w(),h=e[29],p())},d(v){v&&_(l),w(),g=!1,Ie(m)}}}function Ae(e){let l=!1,i=()=>{l=!1},r,o,u,h,g,m,p,w,j,N,v,y,H,D,I,C=e[10]+1+"",S,F,O=e[0].items.length+"",q,G,A,P,Y;ke(e[15]);let z=e[0].items,a=[];for(let s=0;s<z.length;s+=1)a[s]=ge(pe(e,z,s));let E=e[0].items,t=[];for(let s=0;s<E.length;s+=1)t[s]=_e(me(e,E,s));return{c(){o=k("main"),u=k("div"),h=k("div");for(let s=0;s<a.length;s+=1)a[s].c();g=B(),m=k("div"),p=k("p"),w=k("span"),j=J("Prev"),v=B(),y=k("span"),H=J("Next"),D=B(),I=k("p"),S=J(C),F=J(" / "),q=J(O),G=B(),A=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){o=b(s,"MAIN",{class:!0});var f=T(o);u=b(f,"DIV",{id:!0,style:!0,class:!0});var n=T(u);h=b(n,"DIV",{id:!0,class:!0});var R=T(h);for(let K=0;K<a.length;K+=1)a[K].l(R);R.forEach(_),g=M(n),m=b(n,"DIV",{id:!0,class:!0});var Z=T(m);p=b(Z,"P",{class:!0});var X=T(p);w=b(X,"SPAN",{href:!0,class:!0});var se=T(w);j=V(se,"Prev"),se.forEach(_),v=M(X),y=b(X,"SPAN",{class:!0});var le=T(y);H=V(le,"Next"),le.forEach(_),X.forEach(_),D=M(Z),I=b(Z,"P",{id:!0,class:!0});var W=T(I);S=V(W,C),F=V(W," / "),q=V(W,O),W.forEach(_),Z.forEach(_),n.forEach(_),G=M(f),A=b(f,"DIV",{id:!0,style:!0,class:!0});var oe=T(A);for(let K=0;K<t.length;K+=1)t[K].l(oe);oe.forEach(_),f.forEach(_),this.h()},h(){d(h,"id","imgContainer"),d(h,"class","svelte-1jfwhhi"),d(w,"href",N="#"+e[12](e[10]-1)),d(w,"class","svelte-1jfwhhi"),d(y,"class","svelte-1jfwhhi"),d(p,"class","svelte-1jfwhhi"),d(I,"id","pageNum"),d(I,"class","svelte-1jfwhhi"),d(m,"id","controls"),d(m,"class","svelte-1jfwhhi"),d(u,"id","slide"),U(u,"top",e[6]+"px"),d(u,"class","svelte-1jfwhhi"),d(A,"id","desc"),U(A,"margin-bottom",(e[9]?0:e[8]-e[7])+"px"),d(A,"class","svelte-1jfwhhi"),d(o,"class","svelte-1jfwhhi")},m(s,f){Q(s,o,f),c(o,u),c(u,h);for(let n=0;n<a.length;n+=1)a[n].m(h,null);c(u,g),c(u,m),c(m,p),c(p,w),c(w,j),c(p,v),c(p,y),c(y,H),c(m,D),c(m,I),c(I,S),c(I,F),c(I,q),e[20](u),c(o,G),c(o,A);for(let n=0;n<t.length;n+=1)t[n].m(A,null);e[24](A),e[25](o),P||(Y=[L(x,"keydown",e[11]),L(x,"scroll",()=>{l=!0,clearTimeout(r),r=setTimeout(i,100),e[15]()}),L(w,"click",e[16]),L(w,"keypress",e[17]),L(y,"click",e[18]),L(y,"keypress",e[19])],P=!0)},p(s,[f]){if(f&2&&!l&&(l=!0,clearTimeout(r),scrollTo(x.pageXOffset,s[1]),r=setTimeout(i,100)),f&1025){z=s[0].items;let n;for(n=0;n<z.length;n+=1){const R=pe(s,z,n);a[n]?a[n].p(R,f):(a[n]=ge(R),a[n].c(),a[n].m(h,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=z.length}if(f&1024&&N!==(N="#"+s[12](s[10]-1))&&d(w,"href",N),f&1024&&C!==(C=s[10]+1+"")&&ae(S,C),f&1&&O!==(O=s[0].items.length+"")&&ae(q,O),f&64&&U(u,"top",s[6]+"px"),f&17425){E=s[0].items;let n;for(n=0;n<E.length;n+=1){const R=me(s,E,n);t[n]?t[n].p(R,f):(t[n]=_e(R),t[n].c(),t[n].m(A,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=E.length}f&896&&U(A,"margin-bottom",(s[9]?0:s[8]-s[7])+"px")},i:ne,o:ne,d(s){s&&_(o),ie(a,s),e[20](null),ie(t,s),e[24](null),e[25](null),P=!1,Ie(Y)}}}function je(e,l,i){let{data:r}=l,o=!1,u,h=0,g,m,p=[],w,j=0,N=0,v=0;function y(t){console.log(t),["ArrowRight","ArrowDown","d","s","l","k"].includes(t.key)?(console.log("next"),I(h+1)):["ArrowLeft","ArrowUp","w","a","i","j"].includes(t.key)&&I(h-1),["ArrowUp","ArrowDown"].includes(t.key)&&t.preventDefault()}function H(t){let s=0;g&&(s=parseFloat(getComputedStyle(g).fontSize));for(let f=0;f<p.length;f++)if(o){if(p[f].getBoundingClientRect().bottom-v>=j){i(10,h=f);return}}else if(p[f].getBoundingClientRect().bottom-4*s>=j){i(10,h=f);return}}function D(t){return Math.min(Math.max(0,t),r.items.length-1)}function I(t){let s=p[D(t)],f=parseFloat(getComputedStyle(s).fontSize);o?window.scroll({top:s.offsetTop+v-9*f,behavior:"smooth"}):window.scroll({top:s.offsetTop-4*f,behavior:"smooth"})}function C(t){i(10,h=D(t))}function S(){i(1,u=x.pageYOffset)}const F=()=>I(h-1),O=()=>I(h-1),q=()=>I(h+1),G=()=>I(h+1);function A(t){$[t?"unshift":"push"](()=>{w=t,i(5,w)})}function P(t,s){$[t?"unshift":"push"](()=>{p[s]=t,i(4,p)})}const Y=t=>C(t),z=t=>C(t);function a(t){$[t?"unshift":"push"](()=>{g=t,i(2,g)})}function E(t){$[t?"unshift":"push"](()=>{m=t,i(3,m)})}return e.$$set=t=>{"data"in t&&i(0,r=t.data)},e.$$.update=()=>{e.$$.dirty&1&&console.log(r),e.$$.dirty&2&&H(),e.$$.dirty&220&&p.length>0&&(g.getBoundingClientRect().top!=m.getBoundingClientRect().top?(console.log("desc top: %d, timeline top: %d",g.getBoundingClientRect().top,m.getBoundingClientRect().top),console.log("mobile!!!"),i(9,o=!0),i(6,j=0)):i(6,j=g.getBoundingClientRect().top+window.scrollY),i(7,N=p[p.length-1].offsetHeight),console.log("top: %d, bottom: %d",j,N)),e.$$.dirty&288&&w&&(i(8,v=w.offsetHeight),console.log(v))},[r,u,g,m,p,w,j,N,v,o,h,y,D,I,C,S,F,O,q,G,A,P,Y,z,a,E]}class De extends ve{constructor(l){super(),we(this,l,je,Ae,ye,{data:0})}}function Re(e){let l,i,r,o,u,h,g,m,p,w,j,N,v,y,H,D,I,C,S,F,O,q,G,A,P,Y,z;return o=new Te({props:{current:"2022 Christmas Card"}}),D=new De({props:{data:e[0].card2022Data}}),{c(){l=k("title"),i=J("Christmas Card 2022"),r=B(),re(o.$$.fragment),u=B(),h=k("main"),g=k("div"),m=k("p"),p=J(`This year I decided (at the very last moment) to put together a pen-plotter-based Christmas card to send out to friends and family. This page is about the process used to create the front of the card; even if you're not interested in the technical details you can scroll through and get a general sense of how I put it together.\r
            `),w=k("br"),j=J(`\r
            Also, you can navigate through the sections with the arrow keys.`),N=B(),v=k("p"),y=J("Also also, if you didn't get one or received yours somewhat after Christmas I apologize - each card took quite a lot of machine time to make and I had fewer than I would've liked."),H=B(),re(D.$$.fragment),I=B(),C=k("div"),S=k("p"),F=J("Tremendous thanks to my mom for hand-writing the message on the reverse side of the cards, for providing everyone's address, and for actually posting all of these cards."),O=B(),q=k("p"),G=J("From the LaRocques, Merry Christmas."),A=B(),P=k("img"),this.h()},l(a){l=b(a,"TITLE",{});var E=T(l);i=V(E,"Christmas Card 2022"),E.forEach(_),r=M(a),he(o.$$.fragment,a),u=M(a),h=b(a,"MAIN",{id:!0,class:!0});var t=T(h);g=b(t,"DIV",{class:!0});var s=T(g);m=b(s,"P",{});var f=T(m);p=V(f,`This year I decided (at the very last moment) to put together a pen-plotter-based Christmas card to send out to friends and family. This page is about the process used to create the front of the card; even if you're not interested in the technical details you can scroll through and get a general sense of how I put it together.\r
            `),w=b(f,"BR",{}),j=V(f,`\r
            Also, you can navigate through the sections with the arrow keys.`),f.forEach(_),N=M(s),v=b(s,"P",{class:!0});var n=T(v);y=V(n,"Also also, if you didn't get one or received yours somewhat after Christmas I apologize - each card took quite a lot of machine time to make and I had fewer than I would've liked."),n.forEach(_),s.forEach(_),H=M(t),he(D.$$.fragment,t),I=M(t),C=b(t,"DIV",{class:!0});var R=T(C);S=b(R,"P",{});var Z=T(S);F=V(Z,"Tremendous thanks to my mom for hand-writing the message on the reverse side of the cards, for providing everyone's address, and for actually posting all of these cards."),Z.forEach(_),O=M(R),q=b(R,"P",{});var X=T(q);G=V(X,"From the LaRocques, Merry Christmas."),X.forEach(_),A=M(R),P=b(R,"IMG",{id:!0,src:!0,alt:!0,class:!0}),R.forEach(_),t.forEach(_),this.h()},h(){d(v,"class","last svelte-1xoysqa"),d(g,"class","svelte-1xoysqa"),d(P,"id","plotted-card"),te(P.src,Y="img/card2022_plotted.jpg")||d(P,"src",Y),d(P,"alt","A photograph of the plotted card."),d(P,"class","svelte-1xoysqa"),d(C,"class","svelte-1xoysqa"),d(h,"id","main"),d(h,"class","svelte-1xoysqa")},m(a,E){Q(a,l,E),c(l,i),Q(a,r,E),ce(o,a,E),Q(a,u,E),Q(a,h,E),c(h,g),c(g,m),c(m,p),c(m,w),c(m,j),c(g,N),c(g,v),c(v,y),c(h,H),ce(D,h,null),c(h,I),c(h,C),c(C,S),c(S,F),c(C,O),c(C,q),c(q,G),c(C,A),c(C,P),z=!0},p(a,[E]){const t={};E&1&&(t.data=a[0].card2022Data),D.$set(t)},i(a){z||(de(o.$$.fragment,a),de(D.$$.fragment,a),z=!0)},o(a){fe(o.$$.fragment,a),fe(D.$$.fragment,a),z=!1},d(a){a&&_(l),a&&_(r),ue(o,a),a&&_(u),a&&_(h),ue(D)}}}async function Ne(){return await fetch("https://fxgwpcxgjdpckrdkohmi.functions.supabase.co/phone-home",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4Z3dwY3hnamRwY2tyZGtvaG1pIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzE1NzI3MTYsImV4cCI6MTk4NzE0ODcxNn0.8J3cQI4EpBdqKlWDADwE6dgA7LlSJr9mtOpTfaGyi-g"},body:'{"name":"Functions"}'})}function Pe(e,l,i){let{data:r}=l;return Ne(),e.$$set=o=>{"data"in o&&i(0,r=o.data)},e.$$.update=()=>{e.$$.dirty&1&&console.log(r)},[r]}class qe extends ve{constructor(l){super(),we(this,l,Pe,Re,ye,{data:0})}}export{qe as default};
