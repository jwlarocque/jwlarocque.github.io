import{b as fe,e as De,a as X,t as K}from"../chunks/disclose-version.CRpfmKDN.js";import{D as Se,b as we,aw as ye,h as N,v as Q,w as te,V as n,aq as He,ar as de,t as j,c as z,ax as Z,as as ke,a as ne,at as Me,B as Ae,q as Oe,F as ve,ay as ie,az as ue,aA as le,aB as Be,A as Le,aC as Pe,d as be,m as Ce,a8 as qe,x as ze,J as Ye,aD as Fe,a9 as Xe,P as he,aE as Ke,o as Te,M as Ue,y as Ve,s as Ge,aF as Je,X as We,aG as Qe,r as Ze,e as je,K as $e,am as Y,an as O,ao as R,ap as x,aH as xe,p as Ee,g as Ie,av as H,aI as et,R as I,f as tt}from"../chunks/runtime.BoE4XMV5.js";import{s as ae}from"../chunks/render.BpdVmnsP.js";import{p as at,a as P,r as $}from"../chunks/legacy-client.cbiHpQG_.js";/* empty css                                                  */import{w as rt,d as st,e as J}from"../chunks/events.DrK3r5N_.js";import{b as W}from"../chunks/this.C94P-A5R.js";function re(t,e){return e}function nt(t,e,a,s){for(var r=[],i=e.length,o=0;o<i;o++)Be(e[o].e,r,!0);var d=i>0&&r.length===0&&a!==null;if(d){var c=a.parentNode;Le(c),c.append(a),s.clear(),M(t,e[0].prev,e[i-1].next)}Pe(r,()=>{for(var g=0;g<i;g++){var m=e[g];d||(s.delete(m.k),M(t,m.prev,m.next)),be(m.e,!d)}})}function se(t,e,a,s,r,i=null){var o=t,d={flags:e,items:new Map,first:null},c=(e&ye)!==0;if(c){var g=t;o=N?Q(Ce(g)):g.appendChild(Se())}N&&te();var m=null,p=!1,E=qe(()=>{var l=a();return Ue(l)?l:l==null?[]:Ae(l)});we(()=>{var l=n(E),v=l.length;if(p&&v===0)return;p=v===0;let _=!1;if(N){var S=o.data===He;S!==(v===0)&&(o=de(),Q(o),j(!1),_=!0)}if(N){for(var y=null,k,A=0;A<v;A++){if(z.nodeType===8&&z.data===ze){o=z,_=!0,j(!1);break}var T=l[A],f=s(T,A);k=Ne(z,d,y,null,T,f,A,r,e),d.items.set(f,k),y=k}v>0&&Q(de())}if(!N){var u=Ye;it(l,d,o,r,e,(u.f&Z)!==0,s)}i!==null&&(v===0?m?ke(m):m=ne(()=>i(o)):m!==null&&Me(m,()=>{m=null})),_&&j(!0),n(E)}),N&&(o=z)}function it(t,e,a,s,r,i,o,d){var V,F,G,oe;var c=(r&Fe)!==0,g=(r&(ie|le))!==0,m=t.length,p=e.items,E=e.first,l=E,v,_=null,S,y=[],k=[],A,T,f,u;if(c)for(u=0;u<m;u+=1)A=t[u],T=o(A,u),f=p.get(T),f!==void 0&&((V=f.a)==null||V.measure(),(S??(S=new Set)).add(f));for(u=0;u<m;u+=1){if(A=t[u],T=o(A,u),f=p.get(T),f===void 0){var U=l?l.e.nodes_start:a;_=Ne(U,e,_,_===null?e.first:_.next,A,T,u,s,r),p.set(T,_),y=[],k=[],l=_.next;continue}if(g&&lt(f,A,u,r),f.e.f&Z&&(ke(f.e),c&&((F=f.a)==null||F.unfix(),(S??(S=new Set)).delete(f))),f!==l){if(v!==void 0&&v.has(f)){if(y.length<k.length){var B=k[0],D;_=B.prev;var L=y[0],h=y[y.length-1];for(D=0;D<y.length;D+=1)_e(y[D],B,a);for(D=0;D<k.length;D+=1)v.delete(k[D]);M(e,L.prev,h.next),M(e,_,L),M(e,h,B),l=B,_=h,u-=1,y=[],k=[]}else v.delete(f),_e(f,l,a),M(e,f.prev,f.next),M(e,f,_===null?e.first:_.next),M(e,_,f),_=f;continue}for(y=[],k=[];l!==null&&l.k!==T;)(i||!(l.e.f&Z))&&(v??(v=new Set)).add(l),k.push(l),l=l.next;if(l===null)continue;f=l}y.push(f),_=f,l=f.next}if(l!==null||v!==void 0){for(var b=v===void 0?[]:Ae(v);l!==null;)(i||!(l.e.f&Z))&&b.push(l),l=l.next;var w=b.length;if(w>0){var C=r&ye&&m===0?a:null;if(c){for(u=0;u<w;u+=1)(G=b[u].a)==null||G.measure();for(u=0;u<w;u+=1)(oe=b[u].a)==null||oe.fix()}nt(e,b,C,p)}}c&&Oe(()=>{var ce;if(S!==void 0)for(f of S)(ce=f.a)==null||ce.apply()}),ve.first=e.first&&e.first.e,ve.last=_&&_.e}function lt(t,e,a,s){s&ie&&ue(t.v,e),s&le?ue(t.i,a):t.i=a}function Ne(t,e,a,s,r,i,o,d,c,g){var m=(c&ie)!==0,p=(c&Ke)===0,E=m?p?Xe(r):he(r):r,l=c&le?he(o):o,v={i:l,v:E,k:i,a:null,e:null,prev:a,next:s};try{return v.e=ne(()=>d(t,E,l),N),v.e.prev=a&&a.e,v.e.next=s&&s.e,a===null?e.first=v:(a.next=v,a.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function _e(t,e,a){for(var s=t.next?t.next.e.nodes_start:a,r=e?e.e.nodes_start:a,i=t.e.nodes_start;i!==s;){var o=Te(i);r.before(i),i=o}}function M(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function ot(t,e,a,s,r){var i=t,o="",d;we(()=>{if(o===(o=e()??"")){N&&te();return}d!==void 0&&(be(d),d=void 0),o!==""&&(d=ne(()=>{if(N){z.data;for(var c=te(),g=c;c!==null&&(c.nodeType!==8||c.data!=="");)g=c,c=Te(c);if(c===null)throw Ve(),Ge;fe(z,g),i=Q(c);return}var m=o+"",p=De(m);fe(Ce(p),p.lastChild),i.before(p)}))})}function Re(t){var e,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(a=Re(t[e]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}function ct(){for(var t,e,a=0,s="",r=arguments.length;a<r;a++)(t=arguments[a])&&(e=Re(t))&&(s&&(s+=" "),s+=e);return s}function me(t){return typeof t=="object"?ct(t):t??""}function q(t,e,a,s){var r=t.__attributes??(t.__attributes={});N&&(r[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||r[e]!==(r[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Je]=a),a==null?t.removeAttribute(e):typeof a!="string"&&ft(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var ge=new Map;function ft(t){var e=ge.get(t.nodeName);if(e)return e;ge.set(t.nodeName,e=[]);for(var a,s=t,r=Element.prototype;r!==s;){a=Qe(s);for(var i in a)a[i].set&&e.push(i);s=We(s)}return e}function pe(t,e,a){var s=t.__className,r=dt(e,a);N&&t.className===r?t.__className=r:(s!==r||N&&t.className!==r)&&(t.className=r,t.__className=r)}function dt(t,e){return(t??"")+(" "+e)}function vt(t,e,a=e){var s=t==="x",r=()=>rt(()=>{i=!0,clearTimeout(o),o=setTimeout(d,100),a(window[s?"scrollX":"scrollY"])});addEventListener("scroll",r,{passive:!0});var i=!1,o,d=()=>{i=!1},c=!0;Ze(()=>{var g=e();c?c=!1:!i&&g!=null&&(i=!0,clearTimeout(o),scrollTo(window.scrollX,g),o=setTimeout(d,100))}),je(r),$e(()=>{removeEventListener("scroll",r)})}var ut=K('<a target="_blank" rel="noreferrer" class="svelte-8exw55"><h1 class="svelte-8exw55"> </h1></a>'),ht=K('<nav class="svelte-8exw55"><h1 class="current svelte-8exw55"> </h1> <!> <hr class="svelte-8exw55"></nav>');function _t(t,e){let a=at(e,"externals",19,()=>[]);var s=ht(),r=R(s),i=R(r,!0);x(r);var o=O(r,2);se(o,17,a,re,(d,c)=>{let g=()=>n(c)[0],m=()=>n(c)[1];var p=ut(),E=R(p),l=R(E);x(E),x(p),Y(()=>{q(p,"href",m()),ae(l,`${g()??""}â†—`)}),X(d,p)}),xe(2),x(s),Y(()=>ae(i,e.current)),X(t,s)}const mt="card2022/desc/",gt="card2022/img/",pt=[{desc:"0_generate.html",img:"0_generate.png"},{desc:"1_outline_mask.html",img:"1_outline_mask.png"},{desc:"2_outline_paths.html",img:"2_outline_paths.png"},{desc:"3_smoothed_paths.html",img:"3_smoothed_paths.svg"},{desc:"4_shading.html",img:"0_generate.png"},{desc:"5_shading_quantize.html",img:"5_shading_quantize.png"},{desc:"6_shading_masks.html",img:"6_shading_masks.png"},{desc:"7_all_hatched.html",img:"7_all_hatched.svg"},{desc:"8_plotting.html",img:"8_plotting.svg"}],ee={descPath:mt,imgPath:gt,items:pt},wt=!0,yt=async({fetch:t,params:e})=>(ee.items.forEach(async a=>{const s=await t(ee.descPath+a.desc);a.descHtml=await s.text()}),{card2022Data:ee}),Ot=Object.freeze(Object.defineProperty({__proto__:null,load:yt,prerender:wt},Symbol.toStringTag,{value:"Module"}));var kt=K('<img alt="">'),At=(t,e,a)=>e(n(a)-1),bt=(t,e,a)=>e(n(a)+1),Ct=K("<div><!></div>"),Tt=K('<main class="svelte-10hnklm"><div id="slide" class="svelte-10hnklm"><div id="imgContainer" class="svelte-10hnklm"></div> <div id="controls" class="svelte-10hnklm"><p class="svelte-10hnklm"><span class="svelte-10hnklm">Prev</span> <span class="svelte-10hnklm">Next</span></p> <p id="pageNum" class="svelte-10hnklm"> </p></div></div> <div id="desc" class="svelte-10hnklm"></div></main>');function xt(t,e){Ee(e,!0);let a=H(!1),s=H(void 0),r=H(0),i=H(void 0),o=H(void 0),d=P([]),c=H(void 0),g=H(0),m=H(0),p=H(0);function E(h){console.log(h),["ArrowRight","ArrowDown","d","s","l","k"].includes(h.key)?(console.log("next"),_(n(r)+1)):["ArrowLeft","ArrowUp","w","a","i","j"].includes(h.key)&&_(n(r)-1),["ArrowUp","ArrowDown"].includes(h.key)&&h.preventDefault()}function l(h){let b=0;n(i)&&(b=parseFloat(getComputedStyle(n(i)).fontSize));for(let w=0;w<d.length;w++)if(n(a)){if(d[w].getBoundingClientRect().bottom-n(p)>=n(g)){I(r,P(w));return}}else if(d[w].getBoundingClientRect().bottom-4*b>=n(g)){I(r,P(w));return}}function v(h){return Math.min(Math.max(0,h),e.data.items.length-1)}function _(h){let b=d[v(h)],w=parseFloat(getComputedStyle(b).fontSize);n(a)?window.scroll({top:b.offsetTop+n(p)-9*w,behavior:"smooth"}):window.scroll({top:b.offsetTop-4*w,behavior:"smooth"})}function S(h){I(r,P(v(h)))}$(()=>{l(n(s))}),$(()=>{d.length>0&&(n(i).getBoundingClientRect().top!=n(o).getBoundingClientRect().top?(console.log("desc top: %d, timeline top: %d",n(i).getBoundingClientRect().top,n(o).getBoundingClientRect().top),console.log("mobile!!!"),I(a,!0),I(g,0)):I(g,n(i).getBoundingClientRect().top+window.scrollY),I(m,P(d[d.length-1].offsetHeight)),console.log("top: %d, bottom: %d",n(g),n(m)))}),$(()=>{n(c)&&(I(p,P(n(c).offsetHeight)),console.log(n(p)))});var y=Tt();J("keydown",et,E);var k=R(y),A=R(k);se(A,21,()=>e.data.items,re,(h,b,w)=>{var C=kt();Y(()=>{q(C,"src",e.data.imgPath+n(b).img),q(C,"style",`z-index: ${e.data.items.length-w}`),pe(C,me(n(r)>w?"prevImg":""),"svelte-10hnklm")}),X(h,C)}),x(A);var T=O(A,2),f=R(T),u=R(f);Y(()=>q(u,"href",`#${v(n(r)-1)??""}`)),u.__click=[At,_,r];var U=O(u,2);U.__click=[bt,_,r],x(f);var B=O(f,2),D=R(B);x(B),x(T),x(k),W(k,h=>I(c,h),()=>n(c));var L=O(k,2);se(L,21,()=>e.data.items,re,(h,b,w)=>{var C=Ct();Y(()=>q(C,"id",w.toString())),C.__click=()=>S(w);var V=R(C);ot(V,()=>n(b).descHtml),x(C),W(C,(F,G)=>d[G]=F,F=>d==null?void 0:d[F],()=>[w]),Y(()=>pe(C,me(w==n(r)?"currDesc":""),"svelte-10hnklm")),J("keypress",C,()=>S(w)),X(h,C)}),x(L),W(L,h=>I(i,h),()=>n(i)),x(y),W(y,h=>I(o,h),()=>n(o)),Y(()=>{q(k,"style",`top: ${n(g)??""}px;`),ae(D,`${n(r)+1} / ${e.data.items.length??""}`),q(L,"style",`margin-bottom: ${(n(a)?0:n(p)-n(m))??""}px;`)}),vt("y",()=>n(s),h=>I(s,P(h))),J("keypress",u,()=>_(n(r)-1)),J("keypress",U,()=>_(n(r)+1)),X(t,y),Ie()}st(["click"]);var Et=K(`<title>Christmas Card 2022</title> <!> <main id="main" class="svelte-1b9mw1n"><div class="svelte-1b9mw1n"><p>This year I decided (at the very last moment) to put together a pen-plotter-based Christmas
			card to send out to friends and family. This page is about the process used to create the
			front of the card; even if you're not interested in the technical details you can scroll
			through and get a general sense of how I put it together. <br> Also, you can navigate through the sections with the arrow keys.</p> <p class="last svelte-1b9mw1n">Also also, if you didn't get one or received yours somewhat after Christmas I apologize - each
			card took quite a lot of machine time to make and I had fewer than I would've liked.</p></div> <!> <div class="svelte-1b9mw1n"><p>Tremendous thanks to my mom for hand-writing the message on the reverse side of the cards, for
			providing everyone's address, and for actually posting all of these cards.</p> <p>From the LaRocques, Merry Christmas.</p> <img id="plotted-card" src="img/card2022_plotted.jpg" alt="A photograph of the plotted card." class="svelte-1b9mw1n"></div></main>`,1);function Bt(t,e){Ee(e,!0);var a=Et(),s=O(tt(a),2);_t(s,{current:"2022 Christmas Card"});var r=O(s,2),i=O(R(r),2);xt(i,{get data(){return e.data.card2022Data}}),xe(2),x(r),X(t,a),Ie()}export{Bt as component,Ot as universal};
