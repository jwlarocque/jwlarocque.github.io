import{s as ye,f as Ce,n as ae,r as be,h as oe,i as se,b as Q}from"../chunks/scheduler.eb4c88b4.js";import{S as ke,i as Ie,g as j,s as P,m as W,h as D,j as E,f as C,c as S,n as $,y as ee,k as d,l as q,a as J,x as w,z as N,o as re,A as ce,H as Te,B as je,r as he,u as de,v as fe,d as me,t as ue,w as ge}from"../chunks/index.609a543f.js";import{e as x,N as De}from"../chunks/Nav.c6fe3cd5.js";const Ae=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Ee="card2022/desc/",ze="card2022/img/",Pe=[{desc:"0_generate.html",img:"0_generate.png"},{desc:"1_outline_mask.html",img:"1_outline_mask.png"},{desc:"2_outline_paths.html",img:"2_outline_paths.png"},{desc:"3_smoothed_paths.html",img:"3_smoothed_paths.svg"},{desc:"4_shading.html",img:"0_generate.png"},{desc:"5_shading_quantize.html",img:"5_shading_quantize.png"},{desc:"6_shading_masks.html",img:"6_shading_masks.png"},{desc:"7_all_hatched.html",img:"7_all_hatched.svg"},{desc:"8_plotting.html",img:"8_plotting.svg"}],ne={descPath:Ee,imgPath:ze,items:Pe},Se=!0,He=async({fetch:e,params:t})=>(ne.items.forEach(async i=>{const o=await e(ne.descPath+i.desc);i.descHtml=await o.text()}),{card2022Data:ne}),Ye=Object.freeze(Object.defineProperty({__proto__:null,load:He,prerender:Se},Symbol.toStringTag,{value:"Module"}));const{window:te}=Ae;function _e(e,t,i){const o=e.slice();return o[27]=t[i],o[28]=t,o[29]=i,o}function pe(e,t,i){const o=e.slice();return o[27]=t[i],o[29]=i,o}function ve(e){let t,i,o;return{c(){t=j("img"),this.h()},l(l){t=D(l,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){oe(t.src,i=e[0].imgPath+e[27].img)||d(t,"src",i),d(t,"alt",""),q(t,"z-index",e[0].items.length-e[29]),d(t,"class",o=se(e[10]>e[29]?"prevImg":"")+" svelte-1jfwhhi")},m(l,c){J(l,t,c)},p(l,c){c&1&&!oe(t.src,i=l[0].imgPath+l[27].img)&&d(t,"src",i),c&1&&q(t,"z-index",l[0].items.length-l[29]),c&1024&&o!==(o=se(l[10]>l[29]?"prevImg":"")+" svelte-1jfwhhi")&&d(t,"class",o)},d(l){l&&C(t)}}}function we(e){let t,i,o=e[27].descHtml+"",l,c,r=e[29],_,v;const u=()=>e[21](t,r),h=()=>e[21](null,r);function T(){return e[22](e[29])}function I(){return e[23](e[29])}return{c(){t=j("div"),i=new Te(!1),l=P(),this.h()},l(y){t=D(y,"DIV",{class:!0,id:!0});var g=E(t);i=je(g,!1),l=S(g),g.forEach(C),this.h()},h(){i.a=l,d(t,"class",c=se(e[29]==e[10]?"currDesc":"")+" svelte-1jfwhhi"),d(t,"id",e[29].toString())},m(y,g){J(y,t,g),i.m(o,t),w(t,l),u(),_||(v=[N(t,"click",T),N(t,"keypress",I)],_=!0)},p(y,g){e=y,g&1&&o!==(o=e[27].descHtml+"")&&i.p(o),g&1024&&c!==(c=se(e[29]==e[10]?"currDesc":"")+" svelte-1jfwhhi")&&d(t,"class",c),r!==e[29]&&(h(),r=e[29],u())},d(y){y&&C(t),h(),_=!1,be(v)}}}function Me(e){let t=!1,i=()=>{t=!1},o,l,c,r,_,v,u,h,T,I,y,g,f="Next",p,b,z=e[10]+1+"",L,Y,O=e[0].items.length+"",V,F,A,Z,G;Ce(e[15]);let H=x(e[0].items),k=[];for(let n=0;n<H.length;n+=1)k[n]=ve(pe(e,H,n));let M=x(e[0].items),s=[];for(let n=0;n<M.length;n+=1)s[n]=we(_e(e,M,n));return{c(){l=j("main"),c=j("div"),r=j("div");for(let n=0;n<k.length;n+=1)k[n].c();_=P(),v=j("div"),u=j("p"),h=j("span"),T=W("Prev"),y=P(),g=j("span"),g.textContent=f,p=P(),b=j("p"),L=W(z),Y=W(" / "),V=W(O),F=P(),A=j("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){l=D(n,"MAIN",{class:!0});var m=E(l);c=D(m,"DIV",{id:!0,style:!0,class:!0});var a=E(c);r=D(a,"DIV",{id:!0,class:!0});var R=E(r);for(let B=0;B<k.length;B+=1)k[B].l(R);R.forEach(C),_=S(a),v=D(a,"DIV",{id:!0,class:!0});var X=E(v);u=D(X,"P",{class:!0});var U=E(u);h=D(U,"SPAN",{href:!0,class:!0});var le=E(h);T=$(le,"Prev"),le.forEach(C),y=S(U),g=D(U,"SPAN",{class:!0,"data-svelte-h":!0}),ee(g)!=="svelte-1u9yqcr"&&(g.textContent=f),U.forEach(C),p=S(X),b=D(X,"P",{id:!0,class:!0});var K=E(b);L=$(K,z),Y=$(K," / "),V=$(K,O),K.forEach(C),X.forEach(C),a.forEach(C),F=S(m),A=D(m,"DIV",{id:!0,style:!0,class:!0});var ie=E(A);for(let B=0;B<s.length;B+=1)s[B].l(ie);ie.forEach(C),m.forEach(C),this.h()},h(){d(r,"id","imgContainer"),d(r,"class","svelte-1jfwhhi"),d(h,"href",I="#"+e[12](e[10]-1)),d(h,"class","svelte-1jfwhhi"),d(g,"class","svelte-1jfwhhi"),d(u,"class","svelte-1jfwhhi"),d(b,"id","pageNum"),d(b,"class","svelte-1jfwhhi"),d(v,"id","controls"),d(v,"class","svelte-1jfwhhi"),d(c,"id","slide"),q(c,"top",e[6]+"px"),d(c,"class","svelte-1jfwhhi"),d(A,"id","desc"),q(A,"margin-bottom",(e[9]?0:e[8]-e[7])+"px"),d(A,"class","svelte-1jfwhhi"),d(l,"class","svelte-1jfwhhi")},m(n,m){J(n,l,m),w(l,c),w(c,r);for(let a=0;a<k.length;a+=1)k[a]&&k[a].m(r,null);w(c,_),w(c,v),w(v,u),w(u,h),w(h,T),w(u,y),w(u,g),w(v,p),w(v,b),w(b,L),w(b,Y),w(b,V),e[20](c),w(l,F),w(l,A);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(A,null);e[24](A),e[25](l),Z||(G=[N(te,"keydown",e[11]),N(te,"scroll",()=>{t=!0,clearTimeout(o),o=setTimeout(i,100),e[15]()}),N(h,"click",e[16]),N(h,"keypress",e[17]),N(g,"click",e[18]),N(g,"keypress",e[19])],Z=!0)},p(n,[m]){if(m&2&&!t&&(t=!0,clearTimeout(o),scrollTo(te.pageXOffset,n[1]),o=setTimeout(i,100)),m&1025){H=x(n[0].items);let a;for(a=0;a<H.length;a+=1){const R=pe(n,H,a);k[a]?k[a].p(R,m):(k[a]=ve(R),k[a].c(),k[a].m(r,null))}for(;a<k.length;a+=1)k[a].d(1);k.length=H.length}if(m&1024&&I!==(I="#"+n[12](n[10]-1))&&d(h,"href",I),m&1024&&z!==(z=n[10]+1+"")&&re(L,z),m&1&&O!==(O=n[0].items.length+"")&&re(V,O),m&64&&q(c,"top",n[6]+"px"),m&17425){M=x(n[0].items);let a;for(a=0;a<M.length;a+=1){const R=_e(n,M,a);s[a]?s[a].p(R,m):(s[a]=we(R),s[a].c(),s[a].m(A,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=M.length}m&896&&q(A,"margin-bottom",(n[9]?0:n[8]-n[7])+"px")},i:ae,o:ae,d(n){n&&C(l),ce(k,n),e[20](null),ce(s,n),e[24](null),e[25](null),Z=!1,be(G)}}}function Re(e,t,i){let{data:o}=t,l=!1,c,r=0,_,v,u=[],h,T=0,I=0,y=0;function g(s){console.log(s),["ArrowRight","ArrowDown","d","s","l","k"].includes(s.key)?(console.log("next"),b(r+1)):["ArrowLeft","ArrowUp","w","a","i","j"].includes(s.key)&&b(r-1),["ArrowUp","ArrowDown"].includes(s.key)&&s.preventDefault()}function f(s){let n=0;_&&(n=parseFloat(getComputedStyle(_).fontSize));for(let m=0;m<u.length;m++)if(l){if(u[m].getBoundingClientRect().bottom-y>=T){i(10,r=m);return}}else if(u[m].getBoundingClientRect().bottom-4*n>=T){i(10,r=m);return}}function p(s){return Math.min(Math.max(0,s),o.items.length-1)}function b(s){let n=u[p(s)],m=parseFloat(getComputedStyle(n).fontSize);l?window.scroll({top:n.offsetTop+y-9*m,behavior:"smooth"}):window.scroll({top:n.offsetTop-4*m,behavior:"smooth"})}function z(s){i(10,r=p(s))}function L(){i(1,c=te.pageYOffset)}const Y=()=>b(r-1),O=()=>b(r-1),V=()=>b(r+1),F=()=>b(r+1);function A(s){Q[s?"unshift":"push"](()=>{h=s,i(5,h)})}function Z(s,n){Q[s?"unshift":"push"](()=>{u[n]=s,i(4,u)})}const G=s=>z(s),H=s=>z(s);function k(s){Q[s?"unshift":"push"](()=>{_=s,i(2,_)})}function M(s){Q[s?"unshift":"push"](()=>{v=s,i(3,v)})}return e.$$set=s=>{"data"in s&&i(0,o=s.data)},e.$$.update=()=>{e.$$.dirty&1&&console.log(o),e.$$.dirty&2&&f(),e.$$.dirty&220&&u.length>0&&(_.getBoundingClientRect().top!=v.getBoundingClientRect().top?(console.log("desc top: %d, timeline top: %d",_.getBoundingClientRect().top,v.getBoundingClientRect().top),console.log("mobile!!!"),i(9,l=!0),i(6,T=0)):i(6,T=_.getBoundingClientRect().top+window.scrollY),i(7,I=u[u.length-1].offsetHeight),console.log("top: %d, bottom: %d",T,I)),e.$$.dirty&288&&h&&(i(8,y=h.offsetHeight),console.log(y))},[o,c,_,v,u,h,T,I,y,l,r,g,p,b,z,L,Y,O,V,F,A,Z,G,H,k,M]}class Ne extends ke{constructor(t){super(),Ie(this,t,Re,Me,ye,{data:0})}}function Oe(e){let t,i="Christmas Card 2022",o,l,c,r,_,v=`<p>This year I decided (at the very last moment) to put together a pen-plotter-based Christmas
			card to send out to friends and family. This page is about the process used to create the
			front of the card; even if you&#39;re not interested in the technical details you can scroll
			through and get a general sense of how I put it together.
			<br/>
			Also, you can navigate through the sections with the arrow keys.</p> <p class="last svelte-1b9mw1n">Also also, if you didn&#39;t get one or received yours somewhat after Christmas I apologize - each
			card took quite a lot of machine time to make and I had fewer than I would&#39;ve liked.</p>`,u,h,T,I,y=`<p>Tremendous thanks to my mom for hand-writing the message on the reverse side of the cards, for
			providing everyone&#39;s address, and for actually posting all of these cards.</p> <p>From the LaRocques, Merry Christmas.</p> <img id="plotted-card" src="img/card2022_plotted.jpg" alt="A photograph of the plotted card." class="svelte-1b9mw1n"/>`,g;return l=new De({props:{current:"2022 Christmas Card"}}),h=new Ne({props:{data:e[0].card2022Data}}),{c(){t=j("title"),t.textContent=i,o=P(),he(l.$$.fragment),c=P(),r=j("main"),_=j("div"),_.innerHTML=v,u=P(),he(h.$$.fragment),T=P(),I=j("div"),I.innerHTML=y,this.h()},l(f){t=D(f,"TITLE",{"data-svelte-h":!0}),ee(t)!=="svelte-1pf1dxk"&&(t.textContent=i),o=S(f),de(l.$$.fragment,f),c=S(f),r=D(f,"MAIN",{id:!0,class:!0});var p=E(r);_=D(p,"DIV",{class:!0,"data-svelte-h":!0}),ee(_)!=="svelte-m55163"&&(_.innerHTML=v),u=S(p),de(h.$$.fragment,p),T=S(p),I=D(p,"DIV",{class:!0,"data-svelte-h":!0}),ee(I)!=="svelte-vti6pi"&&(I.innerHTML=y),p.forEach(C),this.h()},h(){d(_,"class","svelte-1b9mw1n"),d(I,"class","svelte-1b9mw1n"),d(r,"id","main"),d(r,"class","svelte-1b9mw1n")},m(f,p){J(f,t,p),J(f,o,p),fe(l,f,p),J(f,c,p),J(f,r,p),w(r,_),w(r,u),fe(h,r,null),w(r,T),w(r,I),g=!0},p(f,[p]){const b={};p&1&&(b.data=f[0].card2022Data),h.$set(b)},i(f){g||(me(l.$$.fragment,f),me(h.$$.fragment,f),g=!0)},o(f){ue(l.$$.fragment,f),ue(h.$$.fragment,f),g=!1},d(f){f&&(C(t),C(o),C(c),C(r)),ge(l,f),ge(h)}}}async function Be(){return await fetch("https://fxgwpcxgjdpckrdkohmi.functions.supabase.co/phone-home",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4Z3dwY3hnamRwY2tyZGtvaG1pIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzE1NzI3MTYsImV4cCI6MTk4NzE0ODcxNn0.8J3cQI4EpBdqKlWDADwE6dgA7LlSJr9mtOpTfaGyi-g"},body:'{"name":"Functions"}'})}function Je(e,t,i){let{data:o}=t;return Be(),e.$$set=l=>{"data"in l&&i(0,o=l.data)},[o]}class Fe extends ke{constructor(t){super(),Ie(this,t,Je,Oe,ye,{data:0})}}export{Fe as component,Ye as universal};
