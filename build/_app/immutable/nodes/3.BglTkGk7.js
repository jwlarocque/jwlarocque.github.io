import{b as fe,e as Re,a as K,t as P}from"../chunks/disclose-version.CfHinam_.js";import{D as De,b as ge,ax as we,h as I,v as Q,w as ee,Z as n,ar as Se,as as ce,t as j,c as z,ay as Z,at as ye,a as se,au as He,B as ke,q as Me,F as de,az as ne,aA as ve,aB as ie,aC as Be,A as Le,aD as Oe,d as Ae,m as Ce,ac as qe,x as Ye,J as ze,aE as Fe,ad as Ue,U as ue,aF as Ke,o as Te,M as Pe,y as Xe,s as Ge,aG as Ve,$ as We,aH as Je,r as Qe,e as Ze,K as je,aq as F,N as B,O as R,P as b,Q as xe,p as be,g as Ee,aw as H,aI as $e,W as N,f as ea}from"../chunks/runtime.DbizYTg3.js";import{s as ae}from"../chunks/render.CicitGrD.js";import{p as aa,a as q,r as $}from"../chunks/legacy-client.DAuyXU-W.js";import{w as ta,d as ra,e as W}from"../chunks/events.z7AwQRoU.js";import{b as J}from"../chunks/this.aZ6tn5E2.js";function te(a,e){return e}function sa(a,e,t,s){for(var r=[],i=e.length,o=0;o<i;o++)Be(e[o].e,r,!0);var d=i>0&&r.length===0&&t!==null;if(d){var f=t.parentNode;Le(f),f.append(t),s.clear(),M(a,e[0].prev,e[i-1].next)}Oe(r,()=>{for(var p=0;p<i;p++){var m=e[p];d||(s.delete(m.k),M(a,m.prev,m.next)),Ae(m.e,!d)}})}function re(a,e,t,s,r,i=null){var o=a,d={flags:e,items:new Map,first:null},f=(e&we)!==0;if(f){var p=a;o=I?Q(Ce(p)):p.appendChild(De())}I&&ee();var m=null,g=!1,E=qe(()=>{var l=t();return Pe(l)?l:l==null?[]:ke(l)});ge(()=>{var l=n(E),v=l.length;if(g&&v===0)return;g=v===0;let _=!1;if(I){var S=o.data===Se;S!==(v===0)&&(o=ce(),Q(o),j(!1),_=!0)}if(I){for(var y=null,k,A=0;A<v;A++){if(z.nodeType===8&&z.data===Ye){o=z,_=!0,j(!1);break}var x=l[A],c=s(x,A);k=Ne(z,d,y,null,x,c,A,r,e),d.items.set(c,k),y=k}v>0&&Q(ce())}if(!I){var u=ze;na(l,d,o,r,e,(u.f&Z)!==0,s)}i!==null&&(v===0?m?ye(m):m=se(()=>i(o)):m!==null&&He(m,()=>{m=null})),_&&j(!0),n(E)}),I&&(o=z)}function na(a,e,t,s,r,i,o,d){var G,U,V,le;var f=(r&Fe)!==0,p=(r&(ne|ie))!==0,m=a.length,g=e.items,E=e.first,l=E,v,_=null,S,y=[],k=[],A,x,c,u;if(f)for(u=0;u<m;u+=1)A=a[u],x=o(A,u),c=g.get(x),c!==void 0&&((G=c.a)==null||G.measure(),(S??(S=new Set)).add(c));for(u=0;u<m;u+=1){if(A=a[u],x=o(A,u),c=g.get(x),c===void 0){var X=l?l.e.nodes_start:t;_=Ne(X,e,_,_===null?e.first:_.next,A,x,u,s,r),g.set(x,_),y=[],k=[],l=_.next;continue}if(p&&ia(c,A,u,r),c.e.f&Z&&(ye(c.e),f&&((U=c.a)==null||U.unfix(),(S??(S=new Set)).delete(c))),c!==l){if(v!==void 0&&v.has(c)){if(y.length<k.length){var L=k[0],D;_=L.prev;var O=y[0],h=y[y.length-1];for(D=0;D<y.length;D+=1)he(y[D],L,t);for(D=0;D<k.length;D+=1)v.delete(k[D]);M(e,O.prev,h.next),M(e,_,O),M(e,h,L),l=L,_=h,u-=1,y=[],k=[]}else v.delete(c),he(c,l,t),M(e,c.prev,c.next),M(e,c,_===null?e.first:_.next),M(e,_,c),_=c;continue}for(y=[],k=[];l!==null&&l.k!==x;)(i||!(l.e.f&Z))&&(v??(v=new Set)).add(l),k.push(l),l=l.next;if(l===null)continue;c=l}y.push(c),_=c,l=c.next}if(l!==null||v!==void 0){for(var C=v===void 0?[]:ke(v);l!==null;)(i||!(l.e.f&Z))&&C.push(l),l=l.next;var w=C.length;if(w>0){var T=r&we&&m===0?t:null;if(f){for(u=0;u<w;u+=1)(V=C[u].a)==null||V.measure();for(u=0;u<w;u+=1)(le=C[u].a)==null||le.fix()}sa(e,C,T,g)}}f&&Me(()=>{var oe;if(S!==void 0)for(c of S)(oe=c.a)==null||oe.apply()}),de.first=e.first&&e.first.e,de.last=_&&_.e}function ia(a,e,t,s){s&ne&&ve(a.v,e),s&ie?ve(a.i,t):a.i=t}function Ne(a,e,t,s,r,i,o,d,f,p){var m=(f&ne)!==0,g=(f&Ke)===0,E=m?g?Ue(r):ue(r):r,l=f&ie?ue(o):o,v={i:l,v:E,k:i,a:null,e:null,prev:t,next:s};try{return v.e=se(()=>d(a,E,l),I),v.e.prev=t&&t.e,v.e.next=s&&s.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function he(a,e,t){for(var s=a.next?a.next.e.nodes_start:t,r=e?e.e.nodes_start:t,i=a.e.nodes_start;i!==s;){var o=Te(i);r.before(i),i=o}}function M(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function la(a,e,t,s,r){var i=a,o="",d;ge(()=>{if(o===(o=e()??"")){I&&ee();return}d!==void 0&&(Ae(d),d=void 0),o!==""&&(d=se(()=>{if(I){z.data;for(var f=ee(),p=f;f!==null&&(f.nodeType!==8||f.data!=="");)p=f,f=Te(f);if(f===null)throw Xe(),Ge;fe(z,p),i=Q(f);return}var m=o+"",g=Re(m);fe(Ce(g),g.lastChild),i.before(g)}))})}function Ie(a){var e,t,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(e=0;e<r;e++)a[e]&&(t=Ie(a[e]))&&(s&&(s+=" "),s+=t)}else for(t in a)a[t]&&(s&&(s+=" "),s+=t);return s}function oa(){for(var a,e,t=0,s="",r=arguments.length;t<r;t++)(a=arguments[t])&&(e=Ie(a))&&(s&&(s+=" "),s+=e);return s}function _e(a){return typeof a=="object"?oa(a):a??""}function Y(a,e,t,s){var r=a.__attributes??(a.__attributes={});I&&(r[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||r[e]!==(r[e]=t)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Ve]=t),t==null?a.removeAttribute(e):typeof t!="string"&&fa(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var me=new Map;function fa(a){var e=me.get(a.nodeName);if(e)return e;me.set(a.nodeName,e=[]);for(var t,s=a,r=Element.prototype;r!==s;){t=Je(s);for(var i in t)t[i].set&&e.push(i);s=We(s)}return e}function pe(a,e,t){var s=a.__className,r=ca(e,t);I&&a.className===r?a.__className=r:(s!==r||I&&a.className!==r)&&(a.className=r,a.__className=r)}function ca(a,e){return(a??"")+(" "+e)}function da(a,e,t=e){var s=a==="x",r=()=>ta(()=>{i=!0,clearTimeout(o),o=setTimeout(d,100),t(window[s?"scrollX":"scrollY"])});addEventListener("scroll",r,{passive:!0});var i=!1,o,d=()=>{i=!1},f=!0;Qe(()=>{var p=e();f?f=!1:!i&&p!=null&&(i=!0,clearTimeout(o),scrollTo(window.scrollX,p),o=setTimeout(d,100))}),Ze(r),je(()=>{removeEventListener("scroll",r)})}var va=P('<a target="_blank" rel="noreferrer" class="svelte-8exw55"><h1 class="svelte-8exw55"> </h1></a>'),ua=P('<nav class="svelte-8exw55"><h1 class="current svelte-8exw55"> </h1> <!> <hr class="svelte-8exw55"></nav>');function ha(a,e){let t=aa(e,"externals",19,()=>[]);var s=ua(),r=R(s),i=R(r,!0);b(r);var o=B(r,2);re(o,17,t,te,(d,f)=>{let p=()=>n(f)[0],m=()=>n(f)[1];var g=va(),E=R(g),l=R(E);b(E),b(g),F(()=>{Y(g,"href",m()),ae(l,`${p()??""}â†—`)}),K(d,g)}),xe(2),b(s),F(()=>ae(i,e.current)),K(a,s)}var _a=P('<img alt="">'),ma=(a,e,t)=>e(n(t)-1),pa=(a,e,t)=>e(n(t)+1),ga=P("<div><!></div>"),wa=P('<main class="svelte-10hnklm"><div id="slide" class="svelte-10hnklm"><div id="imgContainer" class="svelte-10hnklm"></div> <div id="controls" class="svelte-10hnklm"><p class="svelte-10hnklm"><span class="svelte-10hnklm">Prev</span> <span class="svelte-10hnklm">Next</span></p> <p id="pageNum" class="svelte-10hnklm"> </p></div></div> <div id="desc" class="svelte-10hnklm"></div></main>');function ya(a,e){be(e,!0);let t=H(!1),s=H(void 0),r=H(0),i=H(void 0),o=H(void 0),d=q([]),f=H(void 0),p=H(0),m=H(0),g=H(0);function E(h){console.log(h),["ArrowRight","ArrowDown","d","s","l","k"].includes(h.key)?(console.log("next"),_(n(r)+1)):["ArrowLeft","ArrowUp","w","a","i","j"].includes(h.key)&&_(n(r)-1),["ArrowUp","ArrowDown"].includes(h.key)&&h.preventDefault()}function l(h){let C=0;n(i)&&(C=parseFloat(getComputedStyle(n(i)).fontSize));for(let w=0;w<d.length;w++)if(n(t)){if(d[w].getBoundingClientRect().bottom-n(g)>=n(p)){N(r,q(w));return}}else if(d[w].getBoundingClientRect().bottom-4*C>=n(p)){N(r,q(w));return}}function v(h){return Math.min(Math.max(0,h),e.data.items.length-1)}function _(h){let C=d[v(h)],w=parseFloat(getComputedStyle(C).fontSize);n(t)?window.scroll({top:C.offsetTop+n(g)-9*w,behavior:"smooth"}):window.scroll({top:C.offsetTop-4*w,behavior:"smooth"})}function S(h){N(r,q(v(h)))}$(()=>{l(n(s))}),$(()=>{d.length>0&&(n(i).getBoundingClientRect().top!=n(o).getBoundingClientRect().top?(console.log("desc top: %d, timeline top: %d",n(i).getBoundingClientRect().top,n(o).getBoundingClientRect().top),console.log("mobile!!!"),N(t,!0),N(p,0)):N(p,n(i).getBoundingClientRect().top+window.scrollY),N(m,q(d[d.length-1].offsetHeight)),console.log("top: %d, bottom: %d",n(p),n(m)))}),$(()=>{n(f)&&(N(g,q(n(f).offsetHeight)),console.log(n(g)))});var y=wa();W("keydown",$e,E);var k=R(y),A=R(k);re(A,21,()=>e.data.items,te,(h,C,w)=>{var T=_a();F(()=>{Y(T,"src",e.data.imgPath+n(C).img),Y(T,"style",`z-index: ${e.data.items.length-w}`),pe(T,_e(n(r)>w?"prevImg":""),"svelte-10hnklm")}),K(h,T)}),b(A);var x=B(A,2),c=R(x),u=R(c);F(()=>Y(u,"href",`#${v(n(r)-1)??""}`)),u.__click=[ma,_,r];var X=B(u,2);X.__click=[pa,_,r],b(c);var L=B(c,2),D=R(L);b(L),b(x),b(k),J(k,h=>N(f,h),()=>n(f));var O=B(k,2);re(O,21,()=>e.data.items,te,(h,C,w)=>{var T=ga();F(()=>Y(T,"id",w.toString())),T.__click=()=>S(w);var G=R(T);la(G,()=>n(C).descHtml),b(T),J(T,(U,V)=>d[V]=U,U=>d==null?void 0:d[U],()=>[w]),F(()=>pe(T,_e(w==n(r)?"currDesc":""),"svelte-10hnklm")),W("keypress",T,()=>S(w)),K(h,T)}),b(O),J(O,h=>N(i,h),()=>n(i)),b(y),J(y,h=>N(o,h),()=>n(o)),F(()=>{Y(k,"style",`top: ${n(p)??""}px;`),ae(D,`${n(r)+1} / ${e.data.items.length??""}`),Y(O,"style",`margin-bottom: ${(n(t)?0:n(g)-n(m))??""}px;`)}),da("y",()=>n(s),h=>N(s,q(h))),W("keypress",u,()=>_(n(r)-1)),W("keypress",X,()=>_(n(r)+1)),K(a,y),Ee()}ra(["click"]);var ka=P(`<title>Christmas Card 2022</title> <!> <main id="main" class="svelte-1b9mw1n"><div class="svelte-1b9mw1n"><p>This year I decided (at the very last moment) to put together a pen-plotter-based Christmas
			card to send out to friends and family. This page is about the process used to create the
			front of the card; even if you're not interested in the technical details you can scroll
			through and get a general sense of how I put it together. <br> Also, you can navigate through the sections with the arrow keys.</p> <p class="last svelte-1b9mw1n">Also also, if you didn't get one or received yours somewhat after Christmas I apologize - each
			card took quite a lot of machine time to make and I had fewer than I would've liked.</p></div> <!> <div class="svelte-1b9mw1n"><p>Tremendous thanks to my mom for hand-writing the message on the reverse side of the cards, for
			providing everyone's address, and for actually posting all of these cards.</p> <p>From the LaRocques, Merry Christmas.</p> <img id="plotted-card" src="img/card2022_plotted.jpg" alt="A photograph of the plotted card." class="svelte-1b9mw1n"></div></main>`,1);function Na(a,e){be(e,!0);var t=ka(),s=B(ea(t),2);ha(s,{current:"2022 Christmas Card"});var r=B(s,2),i=B(R(r),2);ya(i,{get data(){return e.data.card2022Data}}),xe(2),b(r),K(a,t),Ee()}export{Na as component};
